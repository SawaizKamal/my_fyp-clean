# Render Build and Start Commands

## For render.yaml (Already Configured)

The `render.yaml` file already contains these commands, but here they are for reference:

```yaml
buildCommand: python build.py
startCommand: cd backend && python -m uvicorn main:app --host 0.0.0.0 --port $PORT
```

## Manual Configuration in Render Dashboard

If setting up manually in Render Dashboard (without render.yaml), use these commands:

### Build Command
```bash
python build.py
```

### Start Command
```bash
cd backend && python -m uvicorn main:app --host 0.0.0.0 --port $PORT
```

## Alternative Build Command (If build.py fails)

If `build.py` doesn't work, you can use this more explicit build command:

```bash
cd frontend && npm install && npm run build && cd .. && cp -r frontend/dist backend/dist_build && cd backend && pip install -r requirements.txt
```

**Or for Windows/PowerShell compatibility:**
```bash
cd frontend && npm install && npm run build && cd .. && xcopy /E /I /Y frontend\dist backend\dist_build && cd backend && pip install -r requirements.txt
```

## Alternative Start Command

```bash
cd backend && python -m uvicorn main:app --host 0.0.0.0 --port $PORT
```

**Or:**
```bash
python -m uvicorn backend.main:app --host 0.0.0.0 --port $PORT
```

## Environment Variables Required in Render

Make sure to set these in Render Dashboard â†’ Environment:

- `OPENAI_API_KEY` - Your OpenAI API key (required)
- `SECRET_KEY` - Auto-generated by Render or generate with: `openssl rand -hex 32`
- `YOUTUBE_API_KEY` - (Optional) YouTube Data API v3 key
- `DATABASE_URL` - Auto-configured if using Render PostgreSQL
- `PYTHON_VERSION` - `3.10.13` (as specified in runtime.txt)
- `NODE_VERSION` - `20.0.0` or latest LTS (for frontend build)

## Python Runtime

The Python version is specified in `runtime.txt`:
```
python-3.10.13
```

Render will automatically use this version.

## Build Process Explanation

1. **Frontend Build**: Installs npm dependencies and builds React/Vite app to `frontend/dist`
2. **Backend Dependencies**: Installs Python packages from `backend/requirements.txt`
3. **Static Files Copy**: Copies `frontend/dist` to `backend/dist_build` for serving
4. **Start Server**: Runs FastAPI with uvicorn on the specified port

## Notes

- The `$PORT` environment variable is automatically set by Render
- The build command must run from the repository root
- The start command runs from the backend directory
- Frontend build output is served by FastAPI static file mounting

